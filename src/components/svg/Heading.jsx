// components/Heading.jsx
"use client";

import React, { useEffect, useRef } from "react";
import { motion, useAnimation } from "framer-motion";

const Heading = () => {
  const controls = useAnimation();
  const maskRefs = useRef([]);

  useEffect(() => {
    maskRefs.current.forEach((mask, i) => {
      controls.start({
        height: "100%",
        transition: { duration: 1, delay: i * 0.2, ease: "easeInOut" },
      });
    });
  }, [controls]);

  const letters = [
    {
      d: "M69.784 5.6875C71.352 5.6875 72.6 6.1995 73.528 7.2235C74.472 8.2315 74.944 9.6235 74.944 11.3995V19.2235H70.864V11.9515C70.864 11.0555 70.632 10.3595 70.168 9.8635C69.704 9.3675 69.08 9.1195 68.296 9.1195C67.512 9.1195 66.888 9.3675 66.424 9.8635C65.96 10.3595 65.728 11.0555 65.728 11.9515V19.2235H61.624V5.8315H65.728V7.6075C66.144 7.0155 66.704 6.5515 67.408 6.2155C68.112 5.8635 68.904 5.6875 69.784 5.6875Z",
      fill: "#1D45A7",
    },
    {
      d: "M52.4384 19.4127C51.1264 19.4127 49.9424 19.1327 48.8864 18.5727C47.8464 18.0127 47.0224 17.2127 46.4144 16.1727C45.8224 15.1327 45.5264 13.9167 45.5264 12.5247C45.5264 11.1487 45.8304 9.94072 46.4384 8.90072C47.0464 7.84472 47.8784 7.03672 48.9344 6.47672C49.9904 5.91672 51.1744 5.63672 52.4864 5.63672C53.7984 5.63672 54.9824 5.91672 56.0384 6.47672C57.0944 7.03672 57.9264 7.84472 58.5344 8.90072C59.1424 9.94072 59.4464 11.1487 59.4464 12.5247C59.4464 13.9007 59.1344 15.1167 58.5104 16.1727C57.9024 17.2127 57.0624 18.0127 55.9904 18.5727C54.9344 19.1327 53.7504 19.4127 52.4384 19.4127Z",
      fill: "#1D45A7",
    },
    {
      d: "M41.3289 4.44C40.6089 4.44 40.0169 4.232 39.5529 3.816C39.1049 3.384 38.8809 2.856 38.8809 2.232C38.8809 1.592 39.1049 1.064 39.5529 0.648C40.0169 0.216 40.6089 0 41.3289 0C42.0329 0 42.6089 0.216 43.0569 0.648C43.5209 1.064 43.7529 1.592 43.7529 2.232C43.7529 2.856 43.5209 3.384 43.0569 3.816C42.6089 4.232 42.0329 4.44 41.3289 4.44ZM43.3689 5.832V19.224H39.2649V5.832H43.3689Z",
      fill: "#1D45A7",
    },
    {
      d: "M31.3301 19.4127C30.1621 19.4127 29.1221 19.2127 28.2101 18.8127C27.2981 18.4127 26.5781 17.8687 26.0501 17.1807C25.5221 16.4767 25.2261 15.6927 25.1621 14.8287H29.2181C29.2661 15.2927 29.4821 15.6687 29.8661 15.9567C30.2501 16.2447 30.7221 16.3887 31.2821 16.3887C31.7941 16.3887 32.1861 16.2927 32.4581 16.1007C32.7461 15.8927 32.8901 15.6287 32.8901 15.3087C32.8901 14.9247 32.6901 14.6447 32.2901 14.4687C31.8901 14.2767 31.2421 14.0687 30.3461 13.8447C29.3861 13.6207 28.5861 13.3887 27.9461 13.1487C27.3061 12.8927 26.7541 12.5007 26.2901 11.9727C25.8261 11.4287 25.5941 10.7007 25.5941 9.78872C25.5941 9.02072 25.8021 8.32472 26.2181 7.70072C26.6501 7.06072 27.2741 6.55672 28.0901 6.18872C28.9221 5.82072 29.9061 5.63672 31.0421 5.63672C32.7221 5.63672 34.0421 6.05272 35.0021 6.88472C35.9781 7.71672 36.5381 8.82072 36.6821 10.1967H32.8901C32.8261 9.73272 32.6181 9.36472 32.2661 9.09272C31.9301 8.82072 31.4821 8.68472 30.9221 8.68472C30.4421 8.68472 30.0741 8.78072 29.8181 8.97272C29.5621 9.14872 29.4341 9.39672 29.4341 9.71672C29.4341 10.1007 29.6341 10.3887 30.0341 10.5807C30.4501 10.7727 31.0901 10.9647 31.9541 11.1567C32.9461 11.4127 33.7541 11.6687 34.3781 11.9247C35.0021 12.1647 35.5461 12.5647 36.0101 13.1247C36.4901 13.6687 36.7381 14.4047 36.7541 15.3327C36.7541 16.1167 36.5301 16.8207 36.0821 17.4447C35.6501 18.0527 35.0181 18.5327 34.1861 18.8847C33.3701 19.2367 32.4181 19.4127 31.3301 19.4127Z",
      fill: "#1D45A7",
    },
    {
      d: "M20.8679 4.44C20.1479 4.44 19.5559 4.232 19.0919 3.816C18.6439 3.384 18.4199 2.856 18.4199 2.232C18.4199 1.592 18.6439 1.064 19.0919 0.648C19.5559 0.216 20.1479 0 20.8679 0C21.5719 0 22.1479 0.216 22.5959 0.648C23.0599 1.064 23.2919 1.592 23.2919 2.232C23.2919 2.856 23.0599 3.384 22.5959 3.816C22.1479 4.232 21.5719 4.44 20.8679 4.44ZM22.9079 5.832V19.224H18.8039V5.832H22.9079Z",
      fill: "#1D45A7",
    },
    {
      d: "M17.088 2.375L11.112 19.223H5.976L0 2.375H4.368L8.544 15.095L12.744 2.375H17.088Z",
      fill: "#1D45A7",
    },
  ];

  return (
    <div className="w-full flex justify-center items-center">
      <svg width="300" height="50" viewBox="0 0 75 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        {letters.map((letter, i) => (
          <g key={i}>
            <path d={letter.d} fill={letter.fill} />
            <motion.rect
              ref={(el) => (maskRefs.current[i] = el)}
              x="0"
              y="0"
              width="100%"
              height="0%"
              fill="#ffffff"
              style={{ mixBlendMode: "destination-in" }}
              animate={controls}
            />
          </g>
        ))}
      </svg>
    </div>
  );
};

export default Heading;
